YUI.add("moodle-availability_gps-form",function(e,t){M.availability_gps=M.availability_gps||{},M.availability_gps.vals=["accuracy","longitude","latitude","persistent","reveal","revealname"],M.availability_gps.form=e.Object(M.core_availability.plugin),M.availability_gps.form.initInner=function(e,t,n,r,i,s){},M.availability_gps.form.getNode=function(t){var n,r,i,s,o,u,a,f,l;f=M.str.availability_gps;for(n=0;n<M.availability_gps.vals.length;n++)t[M.availability_gps.vals[n]]||(t[M.availability_gps.vals[n]]=0);r='<div class="availability_gps">',r+="<div>"+f.notify_block+"</div>",r+='<input type="button" value="'+f.selectfrommap+'" class="ui-btn btn" onclick="',r+="    availability_gps_helper.init("+t.latitude+","+t.longitude+');">',r+="<div>",r+="<label>"+f.longitude+' <input type="text" name="longitude" value="'+t.longitude+'"/></label>',r+="<label>"+f.latitude+' <input type="text" name="latitude" value="'+t.latitude+'"/></label>',r+="<label>"+f.accuracy+' <select name="accuracy">',s=[5,10,50,100,500,1e3];for(n=0;n<s.length;n++)a=t.accuracy==s[n]?" selected":"",r+='   <option value="'+s[n]+'"'+a+">"+s[n]+" "+f.meters+"</option>";r+="</select></label>",r+="</div>",r+="<div>",r+="<label>"+f.persistent+' <select name="persistent">',s=[0,1],o=[f.no,f.yes];for(n=0;n<s.length;n++)a=t.persistent==s[n]?" selected":"",r+='   <option value="'+s[n]+'"'+a+">"+o[n]+"</option>";r+="</select></label>",r+="<label>"+f.reveal+'<select name="reveal">',s=[0,1],o=[f.no,f.yes];for(n=0;n<s.length;n++)a=t.reveal==s[n]?" selected":"",r+='   <option value="'+s[n]+'"'+a+">"+o[n]+"</option>";r+="</select></label>",r+="<label>"+f.revealname+'<select name="revealname">',s=[0,1],o=[f.no,f.yes];for(n=0;n<s.length;n++)a=t.revealname==s[n]?" selected":"",r+='   <option value="'+s[n]+'"'+a+">"+o[n]+"</option>";return r+="</select></label>",r+="</div>",r+='<div id="availability_gps_map_info" class="closed">',r+=f.selectfrommapdrag,r+='<input type="button" value="'+f.current_location+'" onclick="availability_gps_helper.current();" class="ui-btn btn" />',r+="</div>",r+='<div id="availability_gps_map" class="closed" style="height: 440px; border: 1px solid #AAA;">',r+="</div>",r+="</div>",M.availability_gps.node=e.Node.create(r),M.availability_gps.form.addedEvents||(M.availability_gps.form.addedEvents=!0,M.availability_gps.node.delegate("change",function(){M.core_availability.form.update()},"*[name]")),M.availability_gps.node},M.availability_gps.form.fillValue=function(e,t){var n,r;for(r=0;r<M.availability_gps.vals.length;r++)n=t.one("*[name="+M.availability_gps.vals[r]+"]"),n&&(e[M.availability_gps.vals[r]]=n.get("value"))}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});
